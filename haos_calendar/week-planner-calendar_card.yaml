type: custom:week-planner-card
calendars:
  - entity: calendar.icmw_derek
    name: Derek-Work
    icon: mdi:briefcase
    color: "#4ECDC4"
  - entity: calendar.childcard_schedule
    name: Childcare
    icon: mdi:teddy-bear
    color: "#FF6B6B"
  - entity: calendar.quinn
    name: Quinn
    icon: mdi:account-cowboy-hat
    color: orange
  - entity: calendar.sawyer
    name: Sawyer
    icon: mdi:unicorn-variant
    color: pink
  - entity: calendar.family_events
    name: Family
    icon: mdi:human-male-female-child
    color: "#96CEB4"
days: "31"
startingDayOffset: 0
hideWeekend: false
noCardBackground: false
compact: true
showLegend: true
legendToggle: true
startingDay: month
showNavigation: true
grid_options:
  columns: full
dateFormat: DD
timeFormat: t
texts:
  fullDay: All-Day
  moreEvents: More...
  noEvents: " "
showTitle: true
showDescription: false
dayFormat: <big><big><b>dd</b> | </big>ccc</big>
visibility:
  - condition: state
    entity: input_select.calendar_subtab
    state: monthly
  - condition: not
    conditions:
      - condition: screen
        media_query: "(min-width: 0px) and (max-width: 767px)"
title: Monthly Calendar
card_mod:
  style: |
    /* === HEADER STYLING === */
    .header {
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      text-align: center !important;
    }

    .navigation {
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      margin-bottom: 0px !important;
      text-align: center !important;
    }

    .navigation .month {
      order: 1 !important;
      font-size: 1.8em !important;
      font-weight: bold !important;
      margin-bottom: 15px !important;
      text-align: center !important;
    }

    .navigation ul {
      order: 2 !important;
      margin: 0 !important;
      padding: 0 !important;
      display: flex !important;
      justify-content: center !important;
    }

    .navigation ul li {
      margin: 0 10px !important;
    }

    .navigation ul li ha-icon {
      font-size: 24px !important;
      width: 40px !important;
      height: 40px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
    }

    .header::before {
      content: "";
      display: block;
      width: 100% !important;
      height: 5px;
      background: var(--divider-color);
      order: 2 !important;
      margin-top: 1px;
      margin-bottom: 3px;
    }

    /* === LEGEND STYLING === */
    .legend {
      margin-top: 0px !important;
      padding-top: 0px !important;
      border-top: none !important;
      text-align: center !important;
      order: 3 !important;
    }

    .legend ul {
      display: flex !important;
      flex-wrap: wrap !important;
      justify-content: center !important;
      gap: 15px !important;
      margin: 0 !important;
      padding: 0 !important;
    }

    .legend ul li {
      font-size: 14px !important;
    }

    .legend ul li ha-icon {
      font-size: 16px !important;
      margin-right: 5px !important;
    }

    .header::after {
      content: "";
      display: block;
      width: 100% !important;
      height: 5px;
      background: var(--divider-color);
      order: 4 !important;
      margin-top: 3px;
      margin-bottom: 12px;
    }

    /* === CSS GRID FOR DAYS === */
    .container {
      display: grid !important;
      grid-template-columns: repeat(7, 1fr) !important;
      grid-template-rows: auto !important;
      gap: 2px !important;
      padding: 0px !important;
    }

    .container .header,
    .container .legend {
      grid-column: 1 / -1 !important;
    }

    /* Reorder days so Sunday is first column */
    .day[data-weekday="1"] { grid-column: 2 !important; } /* Monday */
    .day[data-weekday="2"] { grid-column: 3 !important; } /* Tuesday */
    .day[data-weekday="3"] { grid-column: 4 !important; } /* Wednesday */
    .day[data-weekday="4"] { grid-column: 5 !important; } /* Thursday */
    .day[data-weekday="5"] { grid-column: 6 !important; } /* Friday */
    .day[data-weekday="6"] { grid-column: 7 !important; } /* Saturday */
    .day[data-weekday="7"] { grid-column: 1 !important; } /* Sunday */

    /* === DAY BLOCK STYLING === */
    .day {
      background-color: rgba(255, 255, 255, 0.05) !important;
      border-radius: 5px !important;
      display: flex !important;
      flex-direction: column !important;
      justify-content: flex-start !important;
      align-items: stretch !important;
      min-height: 100px !important;
      width: 100% !important;
      padding: 0 !important;
      overflow: hidden !important;
    }

    /* Highlight today */
    .day.today {
      background-color: rgba(255, 255, 255, 0.15) !important;
    }

    .day.today .date {
      font-weight: bold !important;
      color: var(--primary-text-color) !important;
    }

    /* Inner wrapper for day content */
    .day > div,
    .day > div > div {
      display: flex !important;
      flex-direction: column !important;
      justify-content: flex-start !important;
      align-items: stretch !important;
      width: 100% !important;
      padding: 5px !important;
      background: transparent !important;
    }

    /* === EVENT GRID LAYOUT === */
    .day .event {
      display: grid !important;
      grid-template-columns: auto 40px !important; /* time + icon */
      grid-template-rows: auto auto !important;     /* two rows */
      gap: 2px 5px !important;
      align-items: center !important;
      background-color: rgba(255, 255, 255, 0.05) !important;
      border-radius: 5px !important;
      padding: 2px 4px !important;
      font-size: .75em !important;
      white-space: normal !important;
      word-break: break-word !important;
    }

    .day .event .time {
      grid-row: 1 / 2 !important;
      grid-column: 1 / 2 !important;
    }

    .day .event .icon {
      grid-row: 1 / 2 !important;
      grid-column: 2 / 3 !important;
      justify-self: end !important;   /* right-align */
      transform: scale(0.5);          /* shrink by 50% */
    }

    .day .event .title {
      grid-row: 2 / 3 !important;
      grid-column: 1 / 3 !important; /* span both columns */
    }

    /* === CARD TITLE DIVIDER === */
    .card-title {
      text-align: center !important;
    }
    .card-title::after {
      content: "";
      display: block;
      width: 100% !important;
      height: 5px;
      background: var(--divider-color);
      order: 4 !important;
      margin-top: 12px;
      margin-bottom: 3px;
    }
